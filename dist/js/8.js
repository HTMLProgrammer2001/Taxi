(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{122:function(e,t){e.exports="/assets/images/danger.png"},15:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}}(r(185)).initializeApp({apiKey:"AIzaSyDdJjjkx2zXC_pIjlW7MtTgU2HvYFrqIqY",authDomain:"forwork-1579542004155.firebaseapp.com",databaseURL:"https://forwork-1579542004155.firebaseio.com",projectId:"forwork-1579542004155",storageBucket:"forwork-1579542004155.appspot.com",messagingSenderId:"591558800067",appId:"1:591558800067:web:41e749971b0784e9302876",measurementId:"G-BBCZS5L5MK"});t.default=a},182:function(e,t){e.exports="/assets/images/success.png"},195:function(e,c,f){"use strict";(function(e){Object.defineProperty(c,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=l(f(85)),s=f(35),o=l(f(15));function l(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,e.Component),t(u,[{key:"render",value:function(){return e.createElement("form",{onSubmit:this.signUp},e.createElement(r.default,{error:this.state.authorizedError,successRedirect:"/dashboard"}),e.createElement("input",{type:"email",name:"userEmail",onChange:this.onFieldChange,value:this.state.fieldsValue.userEmail||"",className:"form-control",placeholder:"Введите email"}),e.createElement("label",{className:"text-danger",htmlFor:"userEmail"},this.state.fieldsError.userEmail),e.createElement("input",{type:"password",name:"userPassword",onChange:this.onFieldChange,value:this.state.fieldsValue.userPassword||"",className:"form-control",placeholder:"Введите пароль"}),e.createElement("label",{className:"text-danger mb-3 d-block",htmlFor:"userPassword"},this.state.fieldsError.userPassword),e.createElement("button",{type:"submit",name:"authorization",className:"btn btn-primary"},"Авторизироваться"))}},{key:"onFieldChange",value:function(e){var s=e.target;this.setState(function(e){return{fieldsValue:n({},e.fieldsValue,(t={},r=s.name,a=s.value,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))};var t,r,a})}},{key:"signUp",value:function(e){var t=this;e.preventDefault();var r=this.testForm();this.setState({fieldsError:r}),Object.keys(r).length?(0,s.showDangerMessage)("Ошибки в заполнении формы авторизации"):o.default.auth().signInWithEmailAndPassword(this.state.fieldsValue.userEmail,this.state.fieldsValue.userPassword).then(function(){t.setState({authorizedError:""})},function(e){(0,s.showDangerMessage)("Ошибка авторизации"),t.setState({authorizedError:e.message})})}},{key:"testForm",value:function(){var e={};return new RegExp(".+@.{3,8}..{3,8}").test(this.state.fieldsValue.userEmail)||(e.userEmail="Введите корректный email"),(!this.state.fieldsValue.userPassword||this.state.fieldsValue.userPassword.length<8)&&(e.userPassword="Минимальная длина пароля 8 символов"),e}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.signUp=t.signUp.bind(t),t.onFieldChange=t.onFieldChange.bind(t),t.state={fieldsValue:{},fieldsError:{},authorizedError:null},t}c.default=i}).call(this,f(5))},196:function(e,c,f){"use strict";(function(e){Object.defineProperty(c,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},t=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e};function a(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=l(f(85)),s=f(35),o=l(f(15));function l(e){return e&&e.__esModule?e:{default:e}}var i=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,e.Component),t(u,[{key:"render",value:function(){return e.createElement("form",{onSubmit:this.addUser},e.createElement(r.default,{error:this.state.registrationError,successRedirect:"/profile"}),e.createElement("input",{type:"email",name:"userEmail",onChange:this.onFormChange,value:this.state.fieldsValue.userEmail||"",className:"form-control",placeholder:"Введите email"}),e.createElement("label",{className:"text-danger text-small"},this.state.fieldsError.userEmail),e.createElement("input",{type:"text",name:"userName",onChange:this.onFormChange,value:this.state.fieldsValue.userName||"",className:"form-control",placeholder:"Введите имя"}),e.createElement("label",{className:"text-danger text-small"},this.state.fieldsError.userName),e.createElement("input",{type:"password",name:"userPassword",onChange:this.onFormChange,value:this.state.fieldsValue.userPassword||"",className:"form-control",placeholder:"Введите пароль"}),e.createElement("label",{className:"text-danger text-small"},this.state.fieldsError.userPassword),e.createElement("input",{type:"password",name:"confirmPassword",onChange:this.onFormChange,value:this.state.fieldsValue.confirmPassword||"",className:"form-control",placeholder:"Подтвердите пароль"}),e.createElement("label",{className:"text-danger text-small d-block mb-3"},this.state.fieldsError.confirmPassword),e.createElement("button",{type:"submit",name:"registing",className:"btn btn-primary"},"Зарегистрироваться"))}},{key:"onFormChange",value:function(e){var s=e.target;this.setState(function(e){return{fieldsValue:n({},e.fieldsValue,(t={},r=s.name,a=s.value,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))};var t,r,a})}},{key:"addUser",value:function(e){e.preventDefault();var t=this.testForm();this.setState({fieldsError:t}),Object.keys(t).length?(0,s.showDangerMessage)("Ошибки в заполнении формы регистрации"):this.createUser()}},{key:"testForm",value:function(){var e={};return new RegExp(".+@.{3,8}..{3,8}").test(this.state.fieldsValue.userEmail)||(e.userEmail="Введите корректный email"),(!this.state.fieldsValue.userName||this.state.fieldsValue.userName.length<3)&&(e.userName="Минимальная длина имени 3 символа"),(!this.state.fieldsValue.userPassword||this.state.fieldsValue.userPassword.length<8)&&(e.userPassword="Минимальная длина пароля 8 символов"),this.state.fieldsValue.confirmPassword!==this.state.fieldsValue.userPassword&&(e.confirmPassword="Пароли не совпадают"),e}},{key:"createUser",value:function(){var t=this;o.default.auth().createUserWithEmailAndPassword(this.state.fieldsValue.userEmail,this.state.fieldsValue.userPassword).then(function(e){return e.user.updateProfile({displayName:t.state.fieldsValue.userName})}).then(function(){return(0,s.showDangerMessage)("Ошибка сохранения"),t.setState({registrationError:""}),o.default.auth().currentUser.sendEmailVerification()}).catch(function(e){t.setState({registrationError:e.message})})}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e));return t.onFormChange=t.onFormChange.bind(t),t.addUser=t.addUser.bind(t),t.state={fieldsValue:{},fieldsError:{},registrationError:null},t}c.default=i}).call(this,f(5))},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=null,s=document.querySelector("#message-window");function n(){s.classList.remove("show"),s.classList.remove("hide"),s.classList.remove("alert-success"),s.classList.remove("alert-danger"),a&&clearTimeout(a),a=setTimeout(function(){s.classList.add("hide")},5e3)}t.showSuccessMessage=function(e){n(),s.querySelector(".img").src=r(182),s.querySelector(".text").textContent=e,s.classList.add("alert-success"),s.classList.add("show")},t.showDangerMessage=function(e){n(),s.querySelector(".img").src=r(122),s.querySelector(".text").textContent=e,s.classList.add("alert-danger"),s.classList.add("show")}},419:function(e,s,n){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),n(83);!function(e){{if(e&&e.__esModule)return;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e}}(n(187));var t=a(n(195)),r=a(n(196));function a(e){return e&&e.__esModule?e:{default:e}}s.default=function(){return e.createElement("div",{className:"forms"},e.createElement("div",{className:"container w-75 row"},e.createElement("div",{className:"col-sm-6 border-right"},e.createElement("h3",null,"Регистрация"),e.createElement(r.default,null)),e.createElement("div",{className:"col-sm-6"},e.createElement("h3",null,"Авторизация"),e.createElement(t.default,null))))}}).call(this,n(5))},85:function(e,a,s){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0});var r=s(65);a.default=function(e){return e.error?t.createElement("div",{className:"alert alert-danger"},e.error):""===e.error&&e.successRedirect?t.createElement(r.Redirect,{to:e.successRedirect,push:!0}):""===e.error&&e.successMessage?t.createElement("div",null,e.successMessage):null}}).call(this,s(5))}}]);